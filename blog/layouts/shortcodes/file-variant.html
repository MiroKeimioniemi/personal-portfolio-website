{{/* 
  Usage: {{< file-variant title="Title" url="https://..." downloadUrl="https://..." image="image.png" target="_blank" >}}
  
  Defines a file variant that will appear in the file-column
*/}}
<div class="file-variant">
  {{ if .Get "image" }}
    {{ $imgPath := .Get "image" }}
    {{ $imgResource := $.Page.Resources.GetMatch $imgPath }}
    {{ if not $imgResource }}
      {{ $imgResource = $.Page.Resources.GetMatch (printf "*%s*" $imgPath) }}
    {{ end }}
    <a href="{{ .Get "url" }}" {{ if .Get "target" }}target="{{ .Get "target" }}"{{ end }} class="grid-item">
      {{ if $imgResource }}
        <img src="{{ $imgResource.RelPermalink }}" loading="lazy" alt="{{ .Get "title" }} document" class="portfolio-item-frame grid-img">
      {{ else }}
        <img src="{{ $imgPath | relURL }}" loading="lazy" alt="{{ .Get "title" }} document" class="portfolio-item-frame grid-img">
      {{ end }}
      <h3>{{ .Get "title" }}</h3>
    </a>
  {{ else }}
    <a href="{{ .Get "url" }}" {{ if .Get "target" }}target="{{ .Get "target" }}"{{ end }}>
      <h3>{{ .Get "title" }}</h3>
    </a>
  {{ end }}
  <div class="centered">
    <a href="{{ .Get "downloadUrl" }}">
      <button class="general-button margin-y">
        <div class="second-button-layer">
          <div class="first-button-layer">
            <p class="button-text">Download</p>
          </div>
        </div>
      </button>
    </a>
  </div>
</div>
